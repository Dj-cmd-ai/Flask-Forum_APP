{% extends "base.html" %}
{% block content %}
    <div class="media mb-4 align-items-center p-3 border rounded bg-white shadow-sm">
        <img class="rounded-circle account-img shadow-sm" 
             style="width: 80px; height: 80px; object-fit: cover; margin-right: 20px;" 
             src="{{ url_for('static', filename='profile_pics/' + user.image_file) }}">
        <div class="media-body">
            <h2 class="h4 mb-0 text-dark">Topics by {{ user.username }}</h2>
            <p class="text-secondary mb-0 small">{{ posts|length }} discussions started</p>
        </div>
    </div>
    
    {% if not posts %}
        <div class="alert alert-light border text-center py-4">
            <p class="mb-0 text-muted">This user hasn't started any topics yet.</p>
        </div>
    {% endif %}

    {% for post in posts %}
    <div class="card mb-3 shadow-sm border-0">
        <div class="card-body">
            <h3 class="h5">
                <a href="{{ url_for('view_topic', topic_id=post.id) }}" class="text-primary">{{ post.title }}</a>
                <a href="{{ url_for('home', category=post.category) }}">
                    <span class="badge badge-info ml-2">{{ post.category }}</span>
                </a>
            </h3>
            
            <p class="text-muted small mb-3">Posted on {{ post.date_posted.strftime('%B %d, %Y') }}</p>
            
            <p class="card-text text-dark">{{ post.content | truncate(200) }}</p>
            <div class="mt-3">
                <a href="{{ url_for('view_topic', topic_id=post.id) }}" class="btn btn-sm btn-outline-primary px-3">View Discussion</a>
            </div>
        </div>
    </div>
{% endfor %}
{% endblock content %}